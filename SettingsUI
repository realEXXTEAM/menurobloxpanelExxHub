--// OFF: 6031068420, ON: 6031068421

local Players = game:GetService("Players")
local Lighting = game:GetService("Lighting")
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")
local SoundService = game:GetService("SoundService")

local Player = Players.LocalPlayer
local PlayerGui = Player:WaitForChild("PlayerGui")

--// ScreenGui Setup
local SettingsUI = Instance.new("ScreenGui")
SettingsUI.Name = "SettingsUI"
SettingsUI.DisplayOrder = 9999
SettingsUI.ResetOnSpawn = false
SettingsUI.ZIndexBehavior = Enum.ZIndexBehavior.Global
SettingsUI.IgnoreGuiInset = true
SettingsUI.Enabled = false
SettingsUI.Parent = PlayerGui

--// Main Frame
local MainFrame = Instance.new("Frame")
MainFrame.Parent = SettingsUI
MainFrame.Size = UDim2.new(0, 420, 0, 350)
MainFrame.Position = UDim2.new(0.5, -210, 0.5, -175)
MainFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
MainFrame.BackgroundTransparency = 0.2
MainFrame.BorderSizePixel = 0
MainFrame.Active = true
MainFrame.Draggable = false

local UICorner = Instance.new("UICorner", MainFrame)
UICorner.CornerRadius = UDim.new(0, 12)

--// Title
local Title = Instance.new("TextLabel")
Title.Parent = MainFrame
Title.Size = UDim2.new(1, -40, 0, 35)
Title.Position = UDim2.new(0, 10, 0, 5)
Title.BackgroundTransparency = 1
Title.Text = "‚öôÔ∏è Settings"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.TextSize = 18
Title.Font = Enum.Font.GothamBold
Title.TextXAlignment = Enum.TextXAlignment.Left

--// Close Button
local CloseBtn = Instance.new("TextButton")
CloseBtn.Parent = MainFrame
CloseBtn.Size = UDim2.new(0, 30, 0, 30)
CloseBtn.Position = UDim2.new(1, -35, 0, 5)
CloseBtn.BackgroundTransparency = 1
CloseBtn.Text = "X"
CloseBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
CloseBtn.TextSize = 18
CloseBtn.Font = Enum.Font.GothamBold
CloseBtn.MouseButton1Click:Connect(function()
	SettingsUI.Enabled = false
end)

--// Scroll
local ScrollFrame = Instance.new("ScrollingFrame")
ScrollFrame.Parent = MainFrame
ScrollFrame.Size = UDim2.new(1, -20, 1, -45)
ScrollFrame.Position = UDim2.new(0, 10, 0, 40)
ScrollFrame.BackgroundTransparency = 1
ScrollFrame.ScrollBarThickness = 5
ScrollFrame.CanvasSize = UDim2.new(0, 0, 0, 0)

local UIListLayout = Instance.new("UIListLayout", ScrollFrame)
UIListLayout.Padding = UDim.new(0, 8)

--// Toggle Template
local OFF_IMAGE = "rbxassetid://93251040409753"
local ON_IMAGE  = "rbxassetid://118371707759193"

local function CreateToggle(name, callback)
	local Item = Instance.new("Frame")
	Item.Size = UDim2.new(1, 0, 0, 40)
	Item.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
	Item.BackgroundTransparency = 0.3
	Item.Parent = ScrollFrame

	local corner = Instance.new("UICorner", Item)
	corner.CornerRadius = UDim.new(0, 8)

	local Label = Instance.new("TextLabel")
	Label.Parent = Item
	Label.Size = UDim2.new(1, -60, 1, 0)
	Label.Position = UDim2.new(0, 15, 0, 0)
	Label.BackgroundTransparency = 1
	Label.Text = name
	Label.TextColor3 = Color3.fromRGB(255, 255, 255)
	Label.Font = Enum.Font.Gotham
	Label.TextSize = 15
	Label.TextXAlignment = Enum.TextXAlignment.Left

	local Toggle = Instance.new("ImageButton")
	Toggle.Parent = Item
	Toggle.Size = UDim2.new(0, 28, 0, 28)
	Toggle.Position = UDim2.new(1, -45, 0.5, -14)
	Toggle.BackgroundTransparency = 1
	Toggle.Image = OFF_IMAGE

	local state = false
	Toggle.MouseButton1Click:Connect(function()
		state = not state
		TweenService:Create(Toggle, TweenInfo.new(0.16), {ImageTransparency = 1}):Play()
		task.wait(0.08)
		Toggle.Image = state and ON_IMAGE or OFF_IMAGE
		TweenService:Create(Toggle, TweenInfo.new(0.16), {ImageTransparency = 0}):Play()
		if callback then pcall(function() callback(state) end) end
	end)
end

--// Sound Setup
local music = Instance.new("Sound", SoundService)
music.Looped = true
music.Volume = 0.5
music.SoundId = "rbxassetid://178353513"
local musicEnabled = false

--// Toggles

-- ‚ö° Fast Mode
CreateToggle("‚ö° Fast Mode (FPS Boost)", function(state)
	if state then
		settings().Rendering.QualityLevel = Enum.QualityLevel.Level01
		Lighting.GlobalShadows = false
		Lighting.FogEnd = 999999
	else
		settings().Rendering.QualityLevel = Enum.QualityLevel.Automatic
		Lighting.GlobalShadows = true
		Lighting.FogEnd = 1000
	end
end)

-- üåô Night Mode
CreateToggle("üåô Night Mode", function(state)
	if state then
		Lighting.ClockTime = 0
		Lighting.Brightness = 0.2
		Lighting.Ambient = Color3.fromRGB(50, 50, 70)
		Lighting.OutdoorAmbient = Color3.fromRGB(50, 50, 70)
		Lighting.ColorShift_Bottom = Color3.fromRGB(0, 0, 0)
		Lighting.ColorShift_Top = Color3.fromRGB(0, 0, 0)
		Lighting.GlobalShadows = true
		if musicEnabled then
			music.SoundId = "rbxassetid://179507208"
			music:Play()
		end
	else
		Lighting.ClockTime = 14
		Lighting.Brightness = 1.981
		Lighting.Ambient = Color3.fromRGB(128, 128, 128)
		Lighting.OutdoorAmbient = Color3.fromRGB(128, 128, 128)
		Lighting.ColorShift_Bottom = Color3.fromRGB(0, 0, 0)
		Lighting.ColorShift_Top = Color3.fromRGB(0, 0, 0)
		Lighting.GlobalShadows = true
		if musicEnabled then
			music.SoundId = "rbxassetid://178353513"
			music:Play()
		end
	end
end)

-- ‚òÄ Shaders SH
CreateToggle("‚òÄ Shaders SH", function(state)
	if state then
		Lighting.EnvironmentDiffuseScale = 0.3
		Lighting.EnvironmentSpecularScale = 0.5
		Lighting.ShadowSoftness = 0.7
	else
		Lighting.EnvironmentDiffuseScale = 0
		Lighting.EnvironmentSpecularScale = 0
		Lighting.ShadowSoftness = 0.5
	end
end)

-- üé• First Person
CreateToggle("üé• Only First Person", function(state)
	pcall(function()
		Player.CameraMode = state and Enum.CameraMode.LockFirstPerson or Enum.CameraMode.Classic
	end)
end)

-- üßç Player Outline
CreateToggle("üßç Player Outline", function(state)
	for _, plr in pairs(Players:GetPlayers()) do
		if plr.Character then
			local hl = plr.Character:FindFirstChildOfClass("Highlight")
			if state then
				if not hl then
					local newHl = Instance.new("Highlight", plr.Character)
					newHl.FillTransparency = 1
					newHl.OutlineColor = Color3.fromRGB(0, 255, 255)
				end
			else
				if hl then hl:Destroy() end
			end
		end
	end
end)

-- ü¶ò Big Jump Button
CreateToggle("ü¶ò Big Jump Button", function(state)
	local jump = PlayerGui:FindFirstChild("TouchGui")
	if jump and jump:FindFirstChild("TouchControlFrame") then
		local jb = jump.TouchControlFrame:FindFirstChild("JumpButton")
		if jb then
			if state then
				jb.Size = UDim2.new(0, 150, 0, 150)
				jb.Position = UDim2.new(1, -180, 1, -180)
			else
				jb.Size = UDim2.new(0, 70, 0, 70)
				jb.Position = UDim2.new(1, -100, 1, -100)
			end
		end
	end
end)

-- üéµ Background Music
CreateToggle("üéµ Music Background", function(state)
	musicEnabled = state
	if state then music:Play() else music:Stop() end
end)

-- üîÅ Auto Reconnect
CreateToggle("üîÅ Auto Reconnect", function(state)
	getgenv().AutoReconnect = state
	if state then
		coroutine.wrap(function()
			while getgenv().AutoReconnect do
				task.wait(5)
				if not game:IsLoaded() then
					game:GetService("TeleportService"):Teleport(game.PlaceId, Player)
				end
			end
		end)()
	end
end)

--// Scroll Auto Adjust
UIListLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
	ScrollFrame.CanvasSize = UDim2.new(0, 0, 0, UIListLayout.AbsoluteContentSize.Y + 10)
end)
